# 档案检索系统需求分析文档

## 1. 系统概述

档案检索系统是一款专为档案管理设计的软件，旨在提供高效、便捷的档案检索和管理功能。系统支持多种格式档案的导入、分类管理、精确搜索等功能，满足用户对档案管理的各种需求。

## 2. 功能需求

### 2.1 用户管理

#### 2.1.1 用户角色
- **管理员**：拥有系统的全部权限，包括用户管理、数据库清理等高级功能
- **普通用户**：拥有档案检索、文件导入等基本功能的使用权限

#### 2.1.2 用户认证
- 支持用户名和密码登录
- 管理员可以创建新用户账号
- 用户名采用拼音（小写）格式，基于用户真实姓名自动生成

### 2.2 档案管理

#### 2.2.1 档案导入
- **所有登录用户**（包括普通用户）均可使用档案导入功能
- 支持批量导入多种格式的档案文件
- 自动识别档案目录结构和文件关系
- 当档案目录或Excel文件发生变化时，需要重新导入
- 导入时自动读取目录中的Excel文件，获取材料名称、日期和页数信息

#### 2.2.2 档案分类
- 支持按照标准分类体系对档案进行分类
- 提供分类树形结构展示
- 支持分类的导入和更新

### 2.3 搜索功能

#### 2.3.1 搜索方式
- 支持按姓名搜索
- 支持按编号搜索
- 搜索采用精确匹配，要求输入完整姓名或编号（不支持模糊搜索或部分匹配）

#### 2.3.2 搜索规则
- 搜索时需要与目录名称和Excel文件中的信息完全匹配
- 当发现同名档案时（多个目录包含相同姓名），系统会：
  * 显示提示信息，列出所有同名档案的编号信息
  * 要求用户输入编号进行二次精确搜索
  * 用户必须输入编号才能继续搜索
- 搜索结果显示编号、姓名、类号、材料名称、日期和页数等信息（材料信息来自Excel文件）
- 搜索后才能查看左侧分类目录下的文件
- 每次文件目录或Excel文件发生变化后，需要重新导入才能正确搜索

### 2.4 文件浏览
- 左侧分类树显示档案分类结构
- 右侧文件列表显示档案文件
- 支持文件预览和打开

### 2.5 系统管理

#### 2.5.1 系统注册
- 提供系统注册功能，确保软件合法使用
- 注册信息保存在配置文件中

#### 2.5.2 数据库管理
- 管理员可以清理数据库中的重复和无效记录
- 支持数据库备份和恢复

## 3. 非功能需求

### 3.1 性能需求
- 系统响应时间：普通操作响应时间不超过1秒
- 搜索响应时间：不超过3秒
- 文件导入速度：每秒不少于10个文件

### 3.2 安全需求
- 用户密码采用SHA256加密存储
- 系统操作日志记录
- 权限分级控制

### 3.3 兼容性需求
- 支持Windows 7/8/10/11操作系统
- 支持多种档案文件格式，包括PDF、DOC、DOCX等

### 3.4 可用性需求
- 界面简洁直观，易于操作
- 提供详细的用户手册和帮助信息
- 操作过程中有必要的提示和反馈

## 4. 系统架构

### 4.1 技术架构
- 前端：Python Tkinter GUI框架
- 数据库：SQLite本地数据库
- 文件管理：基于操作系统文件系统

### 4.2 部署架构
- 单机部署，无需服务器
- 用户数据存储在用户目录下（AppData）
- 程序资源存储在安装目录

## 5. 数据模型

### 5.1 核心数据表
- 用户表（users）
- 分类表（categories）
- 人员表（persons）
- 人员文件表（person_files）
- 文件表（files）

## 6. 界面设计

### 6.1 主界面
- 顶部：菜单栏和工具栏
- 左侧：分类树
- 右侧：文件列表
- 底部：状态栏

### 6.2 登录界面
- 用户名输入框
- 密码输入框
- 登录按钮

### 6.3 注册界面
- 用户名输入框
- 真实姓名输入框
- 密码输入框
- 确认密码输入框
- 生成用户名按钮
- 注册按钮

## 7. 开发计划

### 7.1 开发阶段
- 需求分析与设计：2周
- 核心功能开发：4周
- 界面开发：2周
- 测试与修复：2周
- 文档编写：1周

### 7.2 版本规划
- v1.0：基础版本，实现核心功能
- v1.1：优化搜索功能，提高性能
- v1.2：增强用户体验，完善界面
- v2.0：增加高级功能，如批量处理、数据分析等
